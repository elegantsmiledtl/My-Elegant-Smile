(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{2043:(e,r,a)=>{"use strict";a.d(r,{k:()=>n});var t=a(30926);let n=(0,t.createServerReference)("7f27a86c50461f014d633068711c774916b420e873",t.callServer,void 0,t.findSourceMapURL,"sendNewCaseNotification")},26614:(e,r,a)=>{Promise.resolve().then(a.bind(a,88982))},30926:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{callServer:function(){return t.callServer},createServerReference:function(){return s.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let t=a(41209),n=a(85153),s=a(77197)},62915:(e,r,a)=>{"use strict";a.d(r,{f:()=>n});var t=a(30926);let n=(0,t.createServerReference)("7f1950a8ca8525369696e18c0263b43b17770c2203",t.callServer,void 0,t.findSourceMapURL,"sendNewCaseEmail")},88982:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>m});var t=a(95155),n=a(20063),s=a(1689),c=a(15894),i=a(12115),d=(a(3998),a(52619)),o=a(14294);let l=(0,o.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);(0,o.A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var u=a(14585),f=a(76604),h=a(2043),p=a(62915);function v(){let e=(0,n.useRouter)(),r=(0,n.useSearchParams)(),{toast:a}=(0,c.dj)(),[d,o]=(0,i.useState)(!1),[v,m]=(0,i.useState)(Date.now());r.get("source"),(0,i.useEffect)(()=>{o(!0)},[]);let x=async e=>{if(d)try{a({title:"Saving...",description:"Adding case for ".concat(e.patientName,".")}),await (0,u.qK)(e),a({title:"Case Added!",description:"Case for ".concat(e.patientName," has been successfully saved. Now sending notification...")}),m(Date.now()),(0,h.k)(e),(0,p.f)(e)}catch(e){console.error("Error during case addition or notification:",e),a({variant:"destructive",title:"Operation Failed",description:"Could not add the case. Please check the error message and try again."})}};return d?(0,t.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,t.jsx)("header",{className:"bg-card border-b shadow-sm p-4 ".concat("sticky top-0 z-10"),children:(0,t.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,t.jsx)(f.default,{}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-primary",children:[(0,t.jsx)(l,{}),(0,t.jsx)("span",{className:"font-semibold",children:"Mobile Entry Mode"})]})]})}),(0,t.jsx)("main",{className:"p-4 sm:p-6 lg:p-8 flex justify-center",children:(0,t.jsx)("div",{className:"w-full max-w-2xl",children:(0,t.jsx)(s.A,{onAddCase:x,onUpdate:()=>{e.push("/")}},v)})})]}):null}function m(){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(v,{})})}}},e=>{e.O(0,[992,481,368,524,746,312,665,689,441,255,358],()=>e(e.s=26614)),_N_E=e.O()}]);