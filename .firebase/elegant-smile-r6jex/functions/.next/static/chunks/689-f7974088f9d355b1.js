"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{1689:(e,a,s)=>{s.d(a,{A:()=>B});var t=s(95155),r=s(66942),l=s(22544),n=s(15653),i=s(3998),o=s(12115),d=s(17129),c=s(64269),m=s(76444);let u=l.Op,x=o.createContext({}),h=e=>{let{...a}=e;return(0,t.jsx)(x.Provider,{value:{name:a.name},children:(0,t.jsx)(l.xI,{...a})})},f=()=>{let e=o.useContext(x),a=o.useContext(p),{getFieldState:s,formState:t}=(0,l.xW)(),r=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=a;return{id:n,name:e.name,formItemId:"".concat(n,"-form-item"),formDescriptionId:"".concat(n,"-form-item-description"),formMessageId:"".concat(n,"-form-item-message"),...r}},p=o.createContext({}),j=o.forwardRef((e,a)=>{let{className:s,...r}=e,l=o.useId();return(0,t.jsx)(p.Provider,{value:{id:l},children:(0,t.jsx)("div",{ref:a,className:(0,c.cn)("space-y-2",s),...r})})});j.displayName="FormItem";let N=o.forwardRef((e,a)=>{let{className:s,...r}=e,{error:l,formItemId:n}=f();return(0,t.jsx)(m.J,{ref:a,className:(0,c.cn)(l&&"text-destructive",s),htmlFor:n,...r})});N.displayName="FormLabel";let b=o.forwardRef((e,a)=>{let{...s}=e,{error:r,formItemId:l,formDescriptionId:n,formMessageId:i}=f();return(0,t.jsx)(d.DX,{ref:a,id:l,"aria-describedby":r?"".concat(n," ").concat(i):"".concat(n),"aria-invalid":!!r,...s})});b.displayName="FormControl",o.forwardRef((e,a)=>{let{className:s,...r}=e,{formDescriptionId:l}=f();return(0,t.jsx)("p",{ref:a,id:l,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})}).displayName="FormDescription";let g=o.forwardRef((e,a)=>{var s;let{className:r,children:l,...n}=e,{error:i,formMessageId:o}=f(),d=i?String(null!=(s=null==i?void 0:i.message)?s:""):l;return d?(0,t.jsx)("p",{ref:a,id:o,className:(0,c.cn)("text-sm font-medium text-destructive",r),...n,children:d}):null});g.displayName="FormMessage";var v=s(65142);let y=o.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("textarea",{className:(0,c.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...r})});y.displayName="Textarea";var w=s(22452),C=s(73180),D=s(86948),_=s(15894),k=s(26333),A=s(59034);let S=o.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(A.bL,{ref:a,className:(0,c.cn)("relative overflow-hidden",s),...l,children:[(0,t.jsx)(A.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(R,{}),(0,t.jsx)(A.OK,{})]})});S.displayName=A.bL.displayName;let R=o.forwardRef((e,a)=>{let{className:s,orientation:r="vertical",...l}=e;return(0,t.jsx)(A.VM,{ref:a,orientation:r,className:(0,c.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...l,children:(0,t.jsx)(A.lr,{className:"relative flex-1 rounded-full bg-border"})})});R.displayName=A.VM.displayName;let I=e=>{let{number:a,isSelected:s,onClick:r}=e;return(0,t.jsx)("button",{type:"button",onClick:()=>r(a),className:(0,c.cn)("h-10 w-10 rounded-full border flex items-center justify-center transition-colors flex-shrink-0",s?"bg-primary text-primary-foreground":"bg-card hover:bg-accent"),children:a})},F=[18,17,16,15,14,13,12,11],M=[21,22,23,24,25,26,27,28],O=[31,32,33,34,35,36,37,38],P=[48,47,46,45,44,43,42,41],L=(0,o.forwardRef)((e,a)=>{let{value:s,onChange:r}=e,[l,n]=(0,o.useState)([]),[d,c]=(0,o.useState)(!1);(0,o.useEffect)(()=>{s?n(s.split(",").map(e=>parseInt(e.trim())).filter(e=>!isNaN(e))):n([])},[s]);let m=e=>{let a=l.includes(e)?l.filter(a=>a!==e):[...l,e];a.sort((e,a)=>e-a),n(a),r(a.join(", "))};return(0,t.jsxs)(k.AM,{open:d,onOpenChange:c,children:[(0,t.jsx)(k.Wv,{asChild:!0,children:(0,t.jsx)(v.p,{ref:a,placeholder:"Select tooth/teeth",value:s,readOnly:!0,className:"cursor-pointer"})}),(0,t.jsxs)(k.hl,{className:"w-[380px] sm:w-[710px] p-4",children:[(0,t.jsxs)(S,{className:"w-full whitespace-nowrap",children:[(0,t.jsxs)("div",{className:"space-y-4 inline-block",children:[(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex gap-1",children:F.map(e=>(0,t.jsx)(I,{number:e,isSelected:l.includes(e),onClick:m},e))}),(0,t.jsx)("div",{className:"flex gap-1",children:M.map(e=>(0,t.jsx)(I,{number:e,isSelected:l.includes(e),onClick:m},e))})]}),(0,t.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,t.jsx)("div",{className:"flex gap-1",children:P.map(e=>(0,t.jsx)(I,{number:e,isSelected:l.includes(e),onClick:m},e))}),(0,t.jsx)("div",{className:"flex gap-1",children:O.map(e=>(0,t.jsx)(I,{number:e,isSelected:l.includes(e),onClick:m},e))})]})]}),(0,t.jsx)(R,{orientation:"horizontal"})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{n([]),r("")},children:"Clear"}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>c(!1),children:"Done"})]})]})]})});L.displayName="ToothSelector";var z=s(20063),T=s(99902),Y=s(40773),V=s(75797);let E=o.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(Y.bL,{className:(0,c.cn)("grid gap-2",s),...r,ref:a})});E.displayName=Y.bL.displayName;let W=o.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(Y.q7,{ref:a,className:(0,c.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),...r,children:(0,t.jsx)(Y.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(V.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});W.displayName=Y.q7.displayName;let Z=n.Ik({patientName:n.Yj().min(2,{message:"Patient name must be at least 2 characters."}),dentistName:n.Yj().min(2,{message:"Dentist name must be at least 2 characters."}),toothNumbers:n.Yj().min(1,{message:"At least one tooth number is required."}),prosthesisType:n.Yj().min(1,{message:"A prosthesis type must be selected."}),material:n.Yj().min(1,{message:"A material must be selected."}),shade:n.Yj().optional(),deliveryDate:n.p6().optional(),notes:n.Yj().optional(),patientNumber:n.Yj().optional()}),q=["Zolid","Zirconia","Nickel Free","N-Guard","Implant","MookUp"],U=["Separate","Bridge"],$=["Dr.Ibraheem Omar","Dr.Mahmod Mishael"];function B(e){let{caseToEdit:a,onUpdate:s,onAddCase:n}=e,{toast:d}=(0,_.dj)();(0,z.useRouter)();let c=(0,o.useRef)(null),[m,x]=(0,o.useState)(!1),f=(0,l.mN)({resolver:(0,r.u)(Z),defaultValues:{patientName:(null==a?void 0:a.patientName)||"",dentistName:(null==a?void 0:a.dentistName)||"",toothNumbers:(null==a?void 0:a.toothNumbers)||"",prosthesisType:(null==a?void 0:a.prosthesisType)||"",material:(null==a?void 0:a.material)||"",shade:(null==a?void 0:a.shade)||"",deliveryDate:(e=>{if(e&&"function"==typeof e.toDate)return e.toDate()})(null==a?void 0:a.deliveryDate),notes:(null==a?void 0:a.notes)||"",patientNumber:(null==a?void 0:a.patientNumber)||""}}),p=!!(null==a?void 0:a.id),k=f.watch("dentistName");return(0,t.jsxs)(D.Zp,{className:"shadow-lg",children:[(0,t.jsx)(D.aR,{children:(0,t.jsxs)(D.ZB,{className:"flex items-center gap-2 font-headline",children:[(0,t.jsx)(w.A,{className:"w-6 h-6 text-primary"}),p?"Edit Case":"Add New Case"]})}),(0,t.jsx)(D.Wu,{children:(0,t.jsx)(u,{...f,children:(0,t.jsxs)("form",{onSubmit:f.handleSubmit(function(e){let t={...e};void 0===t.deliveryDate&&(t.deliveryDate=null),p&&s&&a.id&&a.createdAt?(s({...t,id:a.id,createdAt:a.createdAt}),d({title:"Case Updated",description:"Case for ".concat(e.patientName," has been successfully updated.")})):n&&n(t)}),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(h,{control:f.control,name:"patientName",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Patient Name"}),(0,t.jsx)(b,{children:(0,t.jsx)(v.p,{...a})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"dentistName",render:e=>{let{field:s}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Dentist Name"}),(0,t.jsx)(b,{children:(0,t.jsx)(v.p,{...s,disabled:!!(null==a?void 0:a.dentistName)})}),(0,t.jsx)(g,{})]})}}),$.includes(k)&&(0,t.jsx)(h,{control:f.control,name:"patientNumber",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Patient Number (Optional)"}),(0,t.jsx)(b,{children:(0,t.jsx)(v.p,{type:"tel",...a})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"deliveryDate",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{className:"flex flex-col",children:[(0,t.jsx)(N,{className:"font-bold",children:"Delivery Date (Optional)"}),(0,t.jsx)(b,{children:(0,t.jsx)(T.l,{value:a.value,onChange:e=>{a.onChange(e),x(!1)},open:m,onOpenChange:x,placeholder:"Select delivery date",className:"bg-green-100 hover:bg-green-200 text-green-800 border-green-300",fromDate:new Date})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"toothNumbers",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Tooth Number(s)"}),(0,t.jsx)(b,{children:(0,t.jsx)(L,{ref:c,value:a.value,onChange:a.onChange})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"prosthesisType",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{className:"space-y-3",children:[(0,t.jsx)(N,{className:"font-bold",children:"Prosthesis Type"}),(0,t.jsx)(b,{children:(0,t.jsx)(E,{onValueChange:a.onChange,defaultValue:a.value,className:"flex flex-row space-x-4",children:U.map(e=>(0,t.jsxs)(j,{className:"flex items-center space-x-2 space-y-0",children:[(0,t.jsx)(b,{children:(0,t.jsx)(W,{value:e})}),(0,t.jsx)(N,{className:"font-normal",children:e})]},e))})}),(0,t.jsx)(g,{})]})}})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(h,{control:f.control,name:"material",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{className:"space-y-3",children:[(0,t.jsx)(N,{className:"font-bold",children:"Material"}),(0,t.jsx)(b,{children:(0,t.jsx)(E,{onValueChange:a.onChange,defaultValue:a.value,className:"grid grid-cols-2 gap-2",children:q.map(e=>(0,t.jsxs)(j,{className:"flex items-center space-x-3 space-y-0",children:[(0,t.jsx)(b,{children:(0,t.jsx)(W,{value:e})}),(0,t.jsx)(N,{className:"font-normal",children:e})]},e))})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"shade",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Shade (Optional)"}),(0,t.jsx)(b,{children:(0,t.jsx)(v.p,{...a})}),(0,t.jsx)(g,{})]})}}),(0,t.jsx)(h,{control:f.control,name:"notes",render:e=>{let{field:a}=e;return(0,t.jsxs)(j,{children:[(0,t.jsx)(N,{className:"font-bold",children:"Notes / Instructions"}),(0,t.jsx)(b,{children:(0,t.jsx)(y,{placeholder:"Add any specific instructions...",...a,className:"min-h-[100px]"})}),(0,t.jsx)(g,{})]})}})]})]}),(0,t.jsxs)(i.$,{type:"submit",className:"w-full bg-green-500 hover:bg-green-600 text-white mt-6",children:[(0,t.jsx)(C.A,{className:"mr-2 h-4 w-4"}),p?"Save Changes":"Add Case"]})]})})})]})}},26333:(e,a,s)=>{s.d(a,{AM:()=>i,Wv:()=>o,hl:()=>d});var t=s(95155),r=s(12115),l=s(31138),n=s(64269);let i=l.bL,o=l.l9,d=r.forwardRef((e,a)=>{let{className:s,align:r="center",sideOffset:i=4,...o}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:a,align:r,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})})});d.displayName=l.UC.displayName},99902:(e,a,s)=>{s.d(a,{l:()=>x});var t=s(95155);s(12115);var r=s(14223),l=s(28127),n=s(64269),i=s(3998),o=s(51190),d=s(63263),c=s(32130);function m(e){let{className:a,classNames:s,showOutsideDays:r=!0,...l}=e;return(0,t.jsx)(c.hv,{showOutsideDays:r,className:(0,n.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,n.cn)((0,i.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,n.cn)((0,i.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:a,...s}=e;return(0,t.jsx)(o.A,{className:(0,n.cn)("h-4 w-4",a),...s})},IconRight:e=>{let{className:a,...s}=e;return(0,t.jsx)(d.A,{className:(0,n.cn)("h-4 w-4",a),...s})}},...l})}m.displayName="Calendar";var u=s(26333);function x(e){let{value:a,onChange:s,placeholder:o="Pick a date",open:d,onOpenChange:c,className:x,fromDate:h}=e;return(0,t.jsxs)(u.AM,{open:d,onOpenChange:c,children:[(0,t.jsx)(u.Wv,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"outline",className:(0,n.cn)("w-full justify-start text-left font-normal",!a&&"text-muted-foreground",x),children:[(0,t.jsx)(l.A,{className:"mr-2 h-4 w-4"}),a?(0,r.GP)(a,"PPP"):(0,t.jsx)("span",{children:o})]})}),(0,t.jsx)(u.hl,{className:"w-auto p-0",children:(0,t.jsx)(m,{mode:"single",selected:a,onSelect:s,initialFocus:!0,fromDate:h})})]})}}}]);