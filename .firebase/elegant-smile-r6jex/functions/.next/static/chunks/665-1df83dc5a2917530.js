"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3998:(e,t,a)=>{a.d(t,{$:()=>l,r:()=>d});var r=a(95155),s=a(12115),n=a(17129),i=a(83101),o=a(64269);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...c}=e,u=l?n.DX:"button";return(0,r.jsx)(u,{className:(0,o.cn)(d({variant:s,size:i,className:a})),ref:t,...c})});l.displayName="Button"},14585:(e,t,a)=>{a.d(t,{AX:()=>E,CH:()=>w,D_:()=>A,Eh:()=>f,FH:()=>S,Gm:()=>y,IH:()=>h,JA:()=>_,TK:()=>x,Te:()=>G,UI:()=>j,bA:()=>D,dE:()=>T,eB:()=>p,hG:()=>N,lo:()=>b,nu:()=>v,qK:()=>g,r$:()=>C,tT:()=>m});var r=a(52078),s=a(19708);let n=(0,r.Wp)({projectId:"elegant-smile-r6jex",appId:"1:684195793511:web:ff41b829e9a2b0c0dd62c2",storageBucket:"elegant-smile-r6jex.firebasestorage.app",apiKey:"AIzaSyDFrcocVla_sSA4-rkX6oL8Q35X0kBLQgA",authDomain:"elegant-smile-r6jex.firebaseapp.com",messagingSenderId:"684195793511"}),i=(0,s.aU)(n),o=(0,s.rJ)(i,"dentalCases"),d=(0,s.rJ)(i,"users"),l=(0,s.rJ)(i,"invoices"),c=(0,s.rJ)(i,"notifications"),u=(0,s.rJ)(i,"loginLogs"),m=async e=>{let t=(0,s.H9)(i,"dentalCases",e),a=await (0,s.x7)(t);return a.exists()?{id:a.id,...a.data()}:null},f=async()=>{let e=(0,s.P)(o,(0,s.My)("createdAt","desc"));return(await (0,s.GG)(e)).docs.map(e=>{let t=e.data();return{id:e.id,...t}})},p=async e=>{let t=(0,s.P)(o,(0,s._M)("dentistName","==",e),(0,s.My)("createdAt","desc"));return(await (0,s.GG)(t)).docs.map(e=>{let t=e.data();return{id:e.id,...t}})},g=async e=>{let t=await (0,s.gS)(o,{...e,createdAt:(0,s.O5)(),isDeleted:!1,deletionRequested:!1});return await j("owner","New Case From ".concat(e.dentistName)),t.id},y=async(e,t)=>{let a=(0,s.H9)(i,"dentalCases",e);await (0,s.mZ)(a,t)},w=async e=>{let t=(0,s.H9)(i,"dentalCases",e);await (0,s.kd)(t)},h=async(e,t)=>{let a=(0,s.H9)(i,"dentalCases",e),r=await (0,s.x7)(a);if(!r.exists())throw Error("Case not found");let n=r.data().dentistName;await (0,s.mZ)(a,{deletionRequested:!0}),await j("owner","".concat(n," has requested to delete the case for patient: ").concat(t,"."),e)},b=async()=>(await (0,s.GG)(d)).docs.map(e=>({id:e.id,...e.data()})),v=async e=>{if(e.name){let t=(0,s.P)(d,(0,s._M)("name","==",e.name)),a=await (0,s.GG)(t);if(!a.empty&&a.docs.map(e=>e.data()).some(t=>{var a;return t.name.toLowerCase()===(null==(a=e.name)?void 0:a.toLowerCase())}))throw Error("User with this name already exists.")}await (0,s.gS)(d,{...e,welcomeMessage:e.welcomeMessage||"Welcome, ".concat(e.name)})},x=async(e,t)=>{let a=(0,s.H9)(i,"users",e);await (0,s.c4)(i,async r=>{let n=await r.get(a);if(!n.exists())throw Error("User not found.");let i=n.data();if(t.name&&t.name.toLowerCase()!==i.name.toLowerCase()){let a=(0,s.P)(d,(0,s._M)("name","==",t.name)),r=(await (0,s.GG)(a)).docs.find(t=>t.id!==e);if(r&&r.data().name.toLowerCase()===t.name.toLowerCase())throw Error("This username is already taken.")}r.update(a,t)})},N=async e=>{let t=(0,s.H9)(i,"users",e);await (0,s.kd)(t)},S=async(e,t)=>(await (0,s.GG)(d)).docs.map(e=>({id:e.id,...e.data()})).find(a=>a.name.toLowerCase()===e.toLowerCase()&&(!t||a.password===t))||null,A=async e=>(await (0,s.gS)(l,{...e,createdAt:(0,s.O5)()})).id,T=async e=>{let t=(0,s.P)(l,(0,s._M)("dentistName","==",e),(0,s.My)("createdAt","desc"));return(await (0,s.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))},C=async e=>{let t=(0,s.H9)(i,"invoices",e);await (0,s.kd)(t)},j=async(e,t,a)=>{await (0,s.gS)(c,{dentistName:e,message:t,read:!1,createdAt:(0,s.O5)(),caseId:a||null})},E=async e=>{let t=(0,s.P)(c,(0,s._M)("dentistName","==",e),(0,s._M)("read","==",!1),(0,s.My)("createdAt","desc"));return(await (0,s.GG)(t)).docs.map(e=>({id:e.id,...e.data()}))},D=async e=>{let t=(0,s.H9)(i,"notifications",e);await (0,s.mZ)(t,{read:!0})},_=async e=>{await (0,s.gS)(u,{dentistName:e,timestamp:(0,s.O5)()})},G=async()=>{let e=s.Dc.fromMillis(Date.now()-864e5),t=(0,s.P)(u,(0,s._M)("timestamp","<",e)),a=await (0,s.GG)(t);if(!a.empty){let e=(0,s.wP)(i);a.docs.forEach(t=>{e.delete(t.ref)}),await e.commit()}let r=(0,s.P)(u,(0,s.My)("timestamp","asc"));return(await (0,s.GG)(r)).docs.map(e=>({id:e.id,...e.data()}))}},15894:(e,t,a)=>{a.d(t,{dj:()=>u});var r=a(12115);let s=0,n=new Map,i=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),l({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},o=[],d={toasts:[]};function l(e){d=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?i(a):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:a});return l({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>l({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>l({type:"DISMISS_TOAST",toastId:e})}}},64269:(e,t,a)=>{a.d(t,{PE:()=>i,cn:()=>n,j7:()=>o});var r=a(2821),s=a(75889);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function i(e,t,a){let r=document.createElement("a"),s=new Blob([e],{type:a});r.href=URL.createObjectURL(s),r.download=t,r.click(),URL.revokeObjectURL(r.href)}function o(e){if(0===e.length)return"";let t=e.map(e=>{let t=e.toothNumbers.split(",").filter(e=>""!==e.trim()).length;return{id:e.id,createdAt:e.createdAt,deliveryDate:e.deliveryDate,patientName:e.patientName,dentistName:e.dentistName,toothNumbers:e.toothNumbers,units:t,prosthesisType:e.prosthesisType,material:e.material,shade:e.shade,notes:e.notes}}),a=Object.keys(t[0]);return a.join(",")+"\n"+t.map(e=>a.map(t=>{let a=e[t];if(("createdAt"===t||"deliveryDate"===t)&&a&&"function"==typeof a.toDate)return a.toDate().toISOString();if(a instanceof Date)return a.toISOString();let r=null!=a?String(a):"";return(r=r.replace(/"/g,'""')).includes(",")&&(r='"'.concat(r,'"')),r}).join(",")).join("\n")}},65142:(e,t,a)=>{a.d(t,{p:()=>i});var r=a(95155),s=a(12115),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},76444:(e,t,a)=>{a.d(t,{J:()=>l});var r=a(95155),s=a(12115),n=a(10489),i=a(83101),o=a(64269);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,o.cn)(d(),a),...s})});l.displayName=n.b.displayName},76604:(e,t,a)=>{a.d(t,{default:()=>o});var r=a(95155),s=a(52619),n=a.n(s),i=a(15239);function o(e){let{width:t=300,height:a=80,isLoginPage:s=!1}=e,o=t<200,d=(0,r.jsx)(i.default,{src:o?"https://i.imgur.com/Hfy1pIv.png":"https://i.imgur.com/kDubvxf.png",alt:o?"Elegant Smile Small Logo":"Elegant Smile Logo",width:t,height:a,priority:!0,"data-ai-hint":"logo"});return s?(0,r.jsx)("div",{className:"flex items-center gap-2 cursor-default",children:d}):(0,r.jsx)(n(),{href:"/",className:"flex items-center gap-2",children:d})}},86948:(e,t,a)=>{a.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>o,wL:()=>u});var r=a(95155),s=a(12115),n=a(64269);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});i.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"}}]);