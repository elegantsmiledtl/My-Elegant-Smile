(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{67127:(e,t)=>{"use strict";function s(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70017:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(95155),a=s(12115),n=s(20063),l=s(3998),i=s(86948),d=s(65142),o=s(76444),c=s(15894),u=s(14585),f=s(76604),m=s(67127),g=s.n(m);function p(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),{toast:s}=(0,c.dj)(),[m,p]=(0,a.useState)(""),[h,j]=(0,a.useState)(""),[x,v]=(0,a.useState)(!1),[b,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{w(!0);let e=t.get("name");e&&p(decodeURIComponent(e))},[t]);let y=async t=>{if(t.preventDefault(),b){v(!0);try{let t=await (0,u.FH)(m,h);t?(s({title:"Login Successful",description:"Welcome back, ".concat(t.name,"!")}),localStorage.setItem("loggedInUser",JSON.stringify(t)),await (0,u.JA)(t.name),e.push("/doctor-portal")):s({variant:"destructive",title:"Login Failed",description:"Invalid name or password."})}catch(e){s({variant:"destructive",title:"Login Error",description:"An error occurred during login. Please try again."}),console.error("Login error:",e)}finally{v(!1)}}};return b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g(),{children:(0,r.jsx)("link",{rel:"manifest",href:"/manifest-doctor.json"})}),(0,r.jsxs)("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center p-4",children:[(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(f.default,{isLoginPage:!0})}),(0,r.jsxs)(i.Zp,{className:"w-full max-w-sm shadow-2xl",children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{className:"text-2xl",children:"Doctor Login"})}),(0,r.jsx)(i.Wu,{children:(0,r.jsxs)("form",{onSubmit:y,className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(o.J,{htmlFor:"name",children:"Doctor User"}),(0,r.jsx)(d.p,{id:"name",type:"text",required:!0,value:m,onChange:e=>p(e.target.value),disabled:x,autoComplete:"username"})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(o.J,{htmlFor:"password",children:"Password"}),(0,r.jsx)(d.p,{id:"password",type:"password",required:!0,value:h,onChange:e=>j(e.target.value),disabled:x,autoComplete:"current-password"})]}),(0,r.jsx)(l.$,{type:"submit",className:"w-full",disabled:x,children:x?"Signing In...":"Sign In"})]})})]})]})]}):null}function h(){return(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(p,{})})}},80935:(e,t,s)=>{Promise.resolve().then(s.bind(s,70017))}},e=>{e.O(0,[992,481,368,524,665,441,255,358],()=>e(e.s=80935)),_N_E=e.O()}]);