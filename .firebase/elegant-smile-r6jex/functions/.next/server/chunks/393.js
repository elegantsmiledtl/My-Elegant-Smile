"use strict";exports.id=393,exports.ids=[393],exports.modules={12439:(a,b,c)=>{c.d(b,{$v:()=>q,EO:()=>m,Lt:()=>i,Rx:()=>r,Zr:()=>s,ck:()=>o,r7:()=>p,tv:()=>j,wd:()=>n});var d=c(21124),e=c(38301),f=c(21536),g=c(44943),h=c(35284);let i=f.bL,j=f.l9,k=f.ZL,l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b,ref:c}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsx)(f.UC,{ref:c,className:(0,g.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...b})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...b});n.displayName="AlertDialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="AlertDialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,g.cn)("text-lg font-semibold",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,g.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName;let r=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.rc,{ref:c,className:(0,g.cn)((0,h.r)(),a),...b}));r.displayName=f.rc.displayName;let s=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.ZD,{ref:c,className:(0,g.cn)((0,h.r)({variant:"outline"}),"mt-2 sm:mt-0",a),...b}));s.displayName=f.ZD.displayName},39043:(a,b,c)=>{c.d(b,{S:()=>j});var d=c(21124),e=c(38301),f=c(89339),g=c(8015),h=c(81295),i=c(44943);let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.bL,{ref:c,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=indeterminate]:bg-primary data-[state=indeterminate]:text-primary-foreground",a),...b,children:(0,d.jsxs)(f.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:[(0,d.jsx)(g.A,{className:"h-4 w-4 hidden data-[state=checked]:block"}),(0,d.jsx)(h.A,{className:"h-4 w-4 hidden data-[state=indeterminate]:block"})]})}));j.displayName=f.bL.displayName},40068:(a,b,c)=>{c.d(b,{Cf:()=>m,Es:()=>o,L3:()=>p,c7:()=>n,lG:()=>i,rr:()=>q,zM:()=>j});var d=c(21124),e=c(38301),f=c(6843),g=c(90447),h=c(44943);let i=f.bL,j=f.l9,k=f.ZL;f.bm;let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hJ,{ref:c,className:(0,h.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));l.displayName=f.hJ.displayName;let m=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(k,{children:[(0,d.jsx)(l,{}),(0,d.jsxs)(f.UC,{ref:e,className:(0,h.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(f.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(g.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));m.displayName=f.UC.displayName;let n=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});n.displayName="DialogHeader";let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,h.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...b});o.displayName="DialogFooter";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.hE,{ref:c,className:(0,h.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));p.displayName=f.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(f.VY,{ref:c,className:(0,h.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=f.VY.displayName},79202:(a,b,c)=>{c.d(b,{A0:()=>h,BF:()=>i,Hj:()=>j,XI:()=>g,nA:()=>l,nd:()=>k});var d=c(21124),e=c(38301),f=c(44943);let g=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("div",{className:"relative w-full overflow-auto",children:(0,d.jsx)("table",{ref:c,className:(0,f.cn)("w-full caption-bottom text-sm",a),...b})}));g.displayName="Table";let h=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("thead",{ref:c,className:(0,f.cn)("[&_tr]:border-b",a),...b}));h.displayName="TableHeader";let i=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tbody",{ref:c,className:(0,f.cn)("[&_tr:last-child]:border-0",a),...b}));i.displayName="TableBody",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tfoot",{ref:c,className:(0,f.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...b})).displayName="TableFooter";let j=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("tr",{ref:c,className:(0,f.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...b}));j.displayName="TableRow";let k=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("th",{ref:c,className:(0,f.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...b}));k.displayName="TableHead";let l=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("td",{ref:c,className:(0,f.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...b}));l.displayName="TableCell",e.forwardRef(({className:a,...b},c)=>(0,d.jsx)("caption",{ref:c,className:(0,f.cn)("mt-4 text-sm text-muted-foreground",a),...b})).displayName="TableCaption"},85393:(a,b,c)=>{c.d(b,{A:()=>w});var d=c(21124),e=c(3991),f=c.n(e),g=c(79202),h=c(35284),i=c(61603),j=c(27810),k=c(40822),l=c(44943),m=c(12439),n=c(40068),o=c(98244),p=c(38301),q=c(25054),r=c(72368),s=c(92389),t=c(39043),u=c(93758);function v({dentalCase:a,onUpdateCase:b}){let[c,e]=(0,p.useState)(a.unitPrice??0),[f,g]=(0,p.useState)(!1),h=(0,p.useRef)(null),i=()=>{b&&c!==a.unitPrice&&b({...a,unitPrice:c}),g(!1)};return f?(0,d.jsx)(u.p,{ref:h,type:"number",value:c,onChange:a=>{let b=a.target.value;e(""===b?0:parseFloat(b))},onBlur:i,onKeyDown:a=>"Enter"===a.key&&i(),className:"h-8 w-24",autoFocus:!0}):(0,d.jsxs)("div",{onClick:()=>g(!0),className:"cursor-pointer font-medium p-2",children:[c," JOD"]})}function w({cases:a,onDeleteCase:b,onUpdateCase:c,onDeletionRequest:e,hideDentist:u,hideDeliveryDate:w,hideShade:x,hidePatientNumber:y,selectedCases:z=[],onSelectedCasesChange:A,highlightDeleted:B=!0,showSerialNumber:C=!1}){let[D,E]=(0,p.useState)(!1),[F,G]=(0,p.useState)(null),H=(a,b)=>{let c;if(!a)return"N/A";if(a.toDate)c=a.toDate();else if("string"==typeof a)c=(0,q.H)(a);else{if(!(a instanceof Date))return"Invalid Date";c=a}if(!(0,r.f)(c))return"Invalid Date";try{return(0,s.qD)(c,"Asia/Amman",b)}catch{return"Invalid Date Format"}};if(!a||0===a.length)return(0,d.jsx)("div",{className:"text-center text-muted-foreground p-8 border-2 border-dashed rounded-lg",children:(0,d.jsx)("p",{children:"No cases to display."})});let I=!!b&&!!c,J=!!A,K=!!e,L=a.some(a=>void 0!==a.unitPrice)&&c,M=z.length,N=a.length,O=a.some(a=>a.patientNumber)&&!y;return(0,d.jsxs)("div",{className:"rounded-md border",children:[(0,d.jsxs)(g.XI,{children:[(0,d.jsx)(g.A0,{children:(0,d.jsxs)(g.Hj,{children:[J&&(0,d.jsx)(g.nd,{className:"w-[50px]",children:(0,d.jsx)(t.S,{checked:M===N&&N>0||M>0&&"indeterminate",onCheckedChange:b=>{A&&A(b?a.map(a=>a.id):[])},"aria-label":"Select all"})}),C&&(0,d.jsx)(g.nd,{children:"S/N"}),(0,d.jsx)(g.nd,{children:"Created At"}),!w&&(0,d.jsx)(g.nd,{children:"Delivery Date"}),(0,d.jsx)(g.nd,{children:"Patient"}),!u&&(0,d.jsx)(g.nd,{children:"Dentist"}),(0,d.jsx)(g.nd,{children:"Tooth #(s)"}),(0,d.jsx)(g.nd,{children:"Unit(s)"}),(0,d.jsx)(g.nd,{children:"Material"}),L&&(0,d.jsx)(g.nd,{children:"Unit Price"}),(0,d.jsx)(g.nd,{children:"Prosthesis"}),O&&(0,d.jsx)(g.nd,{children:"Patient Number"}),!x&&(0,d.jsx)(g.nd,{children:"Shade"}),(0,d.jsx)(g.nd,{children:"Notes"}),(I||K)&&(0,d.jsx)(g.nd,{className:"text-right",children:"Actions"})]})}),(0,d.jsx)(g.BF,{children:a.map((a,n)=>(0,d.jsxs)(g.Hj,{"data-state":z.includes(a.id)&&"selected",className:(0,l.cn)(a.deletionRequested&&"bg-yellow-100 hover:bg-yellow-200/80 text-yellow-900",B&&a.isDeleted&&"bg-red-100 hover:bg-red-200/80 text-red-900 line-through opacity-60"),children:[J&&(0,d.jsx)(g.nA,{children:(0,d.jsx)(t.S,{checked:z.includes(a.id),onCheckedChange:b=>{var c;return c=a.id,void(A&&A(b?[...z,c]:z.filter(a=>a!==c)))},"aria-label":`Select row ${a.id}`})}),C&&(0,d.jsx)(g.nA,{className:"font-medium",children:(N-n).toString().padStart(2,"0")}),(0,d.jsx)(g.nA,{children:H(a.createdAt,"PPP p")}),!w&&(0,d.jsx)(g.nA,{children:H(a.deliveryDate,"PPP")}),(0,d.jsx)(g.nA,{className:"font-medium",children:a.patientName}),!u&&(0,d.jsx)(g.nA,{children:(0,d.jsx)(f(),{href:`/doctor/${encodeURIComponent(a.dentistName)}`,className:"text-primary hover:underline",children:a.dentistName})}),(0,d.jsx)(g.nA,{children:a.toothNumbers}),(0,d.jsx)(g.nA,{className:"font-medium",children:a.toothNumbers.split(",").filter(a=>""!==a.trim()).length}),(0,d.jsx)(g.nA,{children:a.material}),L&&(0,d.jsx)(g.nA,{children:(0,d.jsx)(v,{dentalCase:a,onUpdateCase:c})}),(0,d.jsx)(g.nA,{children:a.prosthesisType}),O&&(0,d.jsx)(g.nA,{children:a.patientNumber?(0,d.jsxs)("a",{href:`tel:${a.patientNumber}`,className:"text-primary hover:underline flex items-center gap-1",children:[(0,d.jsx)(i.A,{className:"h-3 w-3"}),a.patientNumber]}):"N/A"}),!x&&(0,d.jsx)(g.nA,{children:a.shade}),(0,d.jsx)(g.nA,{className:"max-w-[200px] truncate",children:a.notes}),(0,d.jsxs)(g.nA,{className:"text-right",children:[I&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.$,{variant:"ghost",size:"icon",onClick:()=>{G(a),E(!0)},children:(0,d.jsx)(j.A,{className:"h-4 w-4"})}),(0,d.jsxs)(m.Lt,{children:[(0,d.jsx)(m.tv,{asChild:!0,children:(0,d.jsx)(h.$,{variant:"ghost",size:"icon",children:(0,d.jsx)(k.A,{className:"h-4 w-4 text-destructive"})})}),(0,d.jsxs)(m.EO,{children:[(0,d.jsxs)(m.wd,{children:[(0,d.jsx)(m.r7,{children:"Are you sure?"}),(0,d.jsxs)(m.$v,{children:["This action cannot be undone. This will permanently delete the case for ",a.patientName,". For Dr.Ibraheem Omar, this will only hide the case from the owner view."]})]}),(0,d.jsxs)(m.ck,{children:[(0,d.jsx)(m.Zr,{children:"Cancel"}),(0,d.jsx)(m.Rx,{onClick:()=>b&&b(a),className:"bg-destructive hover:bg-destructive/90",children:"Delete"})]})]})]})]}),K&&(0,d.jsxs)(m.Lt,{children:[(0,d.jsx)(m.tv,{asChild:!0,children:(0,d.jsxs)(h.$,{variant:"destructive",size:"sm",disabled:!!a.deletionRequested,className:"disabled:opacity-70 disabled:bg-yellow-100",children:[(0,d.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Delete"]})}),(0,d.jsxs)(m.EO,{children:[(0,d.jsxs)(m.wd,{children:[(0,d.jsx)(m.r7,{children:"Delete Case?"}),(0,d.jsxs)(m.$v,{children:["This will send a notification to the lab owner to approve the deletion of the case for ",a.patientName,". You will be notified once it's approved. Are you sure?"]})]}),(0,d.jsxs)(m.ck,{children:[(0,d.jsx)(m.Zr,{children:"Cancel"}),(0,d.jsx)(m.Rx,{onClick:()=>e(a.id,a.patientName),children:"Yes, Send Request"})]})]})]})]})]},a.id))})]}),(0,d.jsx)(n.lG,{open:D,onOpenChange:E,children:(0,d.jsxs)(n.Cf,{className:"max-w-4xl",children:[(0,d.jsx)(n.c7,{children:(0,d.jsx)(n.L3,{children:"Edit Case"})}),F&&c&&(0,d.jsx)(o.A,{caseToEdit:F,onUpdate:a=>{c(a),E(!1)}})]})})]})}}};